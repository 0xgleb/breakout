int main()

{

if(initSDL()) return 1;

SDL_Window *win = createWindow("Breakout");

if(!win) return 1;

SDL_Renderer *rend = createRenderer(win);

if(!rend) return 1;

SDL_Surface *surface = IMG_Load("images/breakout_bg.png");

if(!surface) {

printf("Error occured while creating surface: %s\n", SDL_GetError());

SDL_DestroyRenderer(rend);

SDL_DestroyWindow(win);

SDL_Quit();

return 1;

}

struct object *bcg = (struct object *) malloc(sizeof(struct object));

bcg -> selection = NULL;

bcg -> destination = NULL;

bcg -> texture = SDL_CreateTextureFromSurface(rend, surface);

SDL_FreeSurface(surface);

if(!bcg -> texture) {

printf("Error occured while creating background texture: %s\n",

SDL_GetError());

SDL_DestroyRenderer(rend);

SDL_DestroyWindow(win);

SDL_Quit();

return 1;

}

...

return 0;

}
